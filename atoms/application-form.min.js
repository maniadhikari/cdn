window.addEventListener("DOMContentLoaded",(function(){if(!localStorage.getItem("team-EPYC-debugger")){const v=e=>{const t=`[+] Form: ${e}`;window.location.hostname.includes("webflow.io")&&console.warn(t)},b=document.querySelector("#wf-form-Application-Form"),w=Array.from(document.querySelectorAll("[data-step]")),k=document.getElementById("prevButton");k?k.addEventListener("click",(function(){const e=n();if(e){const t=e-1;t>=1&&r(t)}else v("Cannot go to the previous step")})):v("Cannot initialize previous button");const E=document.getElementById("nextButton");E?E.addEventListener("click",i):v("Cannot initialize next button");const S=document.querySelector("#form-start");S?S.addEventListener("click",i):v("Cannot initialize form start button");const I=document.getElementById("submit-button"),x=document.getElementById("stepsIndicator"),C=["Home","Program","Profile","Startup Details","Pitch Deck","About You","Others"],P=(e,t)=>!(e.split(/[\s]+/).length>100),A="Use less than 100 words",L=(e,t)=>{if(!e)return!0;try{new URL(e);return!0}catch(e){return!1}},q="Please input a valid URL",M=document.querySelector("#phone"),T=document.querySelector(".dialCode"),F=intlTelInput(M,{initialCountry:"in",preferredCountries:["in","sg"],placeholderNumberType:"FIXED_LINE_OR_MOBILE",customPlaceholder:function(e,t){return"in"===t.iso2?"74104 10123":e}}),B=function(e){T&&(T.value="+"+F.getSelectedCountryData().dialCode)};M&&(M.addEventListener("input",B,!1),M.addEventListener("countrychange",B,!1));const O={"Program-Type":[{rule:"required"}],"Applicant-Linkedin-URL":[{rule:"required"},{validator:L,errorMessage:q}],"Email-Address":[{rule:"required"},{rule:"email"}],"First-Name":[{rule:"required"}],"Contact-Number":[{rule:"required"},{validator:(e,t)=>{if(F.isValidNumber())return M&&$(M).focus(),!0;F.getValidationError();return M&&$(M).focus(),!1},errorMessage:"Invalid phone number"}],"Current-Team":[{rule:"required"}],"Teams-AI-Experience":[{validator:P,errorMessage:A}],"Teams-Industry-Experience":[{validator:P,errorMessage:A}],"Company-Website":[{validator:L,errorMessage:q}],"Demo-URL":[{validator:L,errorMessage:q}],"Time-Commitment":[{rule:"required"}],"Company-Stage":[{rule:"required"}],"Amount-Raised":[{validator:(e,t)=>e>=0,errorMessage:"Amount cannot be negative"}],"Startup-Idea":[{rule:"required"},{validator:P,errorMessage:A}],"Pitch-Deck-File":[{rule:"minFilesCount",value:1,errorMessage:"Please upload your pitch deck"}],"I-am-remarkably-good-at":[{validator:P,errorMessage:A}],"I-am-leveraging-technology-in-my-business-by":[{validator:P,errorMessage:A}],"About-Previous-Batch-Experience":[{validator:P,errorMessage:A}],"Different-Idea-Because":[{validator:P,errorMessage:A}],"Why-Applying":[{validator:P,errorMessage:A}],"Previous-Batch":[{rule:"required"}],"Applied-for-Previous-Batch-but":[{validator:P,errorMessage:A}],"Fellow-Founder":[{rule:"required"}],"Agree-to-Terms":[{rule:"required",errorMessage:"Please accept our Privacy Policy."}]};let D;function e(e){D=new window.JustValidate(b,{rules:{},validateBeforeSubmitting:!0,errorLabelStyle:{fontSize:"14px",color:"#ea384c"}}),D.onValidate((({isValid:e,isSubmitted:t,fields:n,groups:r})=>{e?(s(),I&&I.classList.remove("is-disabled")):(a(),d())}));$(e).find("input, textarea").each(((e,t)=>{const{type:n,name:r}=t;if(r){const e=O[r];if(e)if(n&&"radio"===n){const e=$(t).parents(".radio-button-wrapper");e&&e[0]&&D.addRequiredGroup(e[0],"Select one option")}else if(n&&"checkbox"===n)if("Agree-to-Terms"===r){const e=$(t).parents(".terms-checkbox-wrapper");e&&e[0]&&D.addRequiredGroup(e[0],"Please accept our Privacy Policy.")}else{const e=$(t).parents(".checkbox-wrapper");e&&e[0]&&D.addRequiredGroup(e[0],"Select atleast one option")}else{const n=$(t).parents(".form-fields-wrapper");let r;n&&n[0]&&(r=n[0]),D.addField(t,e,{errorsContainer:r})}}else v("init validation: invalid name")}))}function t(){D&&D.destroy()}const V=()=>{const e=n(),t=JSON.stringify(e);localStorage.setItem("formStep",t)};function n(){const e=document.querySelector('[data-step]:not([style*="display: none"])');if(e){const t=e.getAttribute("data-step");if(t)return parseInt(t,10)}return 1}async function r(r){const i=n();if(w.forEach((n=>{if(n.getAttribute("data-step")===r.toString()){t();e(r===w.length?b:n),n.style.display="grid"}else n.style.display="none"})),V(),o(r),l(r),x){const e=Array.from(x.children);e.forEach(((e,t)=>{t===r-1?e.classList.add("text-style-bold"):e.classList.remove("text-style-bold")})),e.forEach(((e,t)=>{t>=r?e.classList.add("breadcrumbs-disabled"):e.classList.remove("breadcrumbs-disabled")}))}else v("Cannot update stepsIndicator");setTimeout((async()=>{await D.revalidate(),D.isValid&&s(),setTimeout((()=>{n();i!==r&&window.scrollTo({top:0,behavior:"smooth"})}),200)}),500)}async function i(){const e=n();if(e){const t=e+1;if(t<=w.length){(await D.revalidate()||1===e)&&(a(),d(),r(t))}}else v("Cannot go to next step")}function o(e){k&&(k.style.display=1===e?"none":"flex"),E&&(E.style.display=e===w.length||1===e?"none":"flex")}function a(){E&&E.classList.add("is-disabled")}function s(){E&&E.classList.remove("is-disabled")}function d(){I&&I.classList.add("is-disabled")}function l(e){I&&(I.style.display=e===w.length?"flex":"none")}function c(e){$(e).find('input[type="text"], input[type="number"], input[type="email"], textarea').each((function(){$(this).is(":hidden")&&$(this).val("")})),$(e).find('input[type="radio"]').each((function(){const e=$(this);e.is(":checked")&&(e.prop("checked",!1),$(e).siblings().removeClass("w--redirected-checked"))}))}function u(e){$(e).hide(),c(e)}w.forEach(((e,t)=>{const n=e.getAttribute("data-step");if(n){const e=parseInt(n,10),i=C[e-1],o=document.createElement("a");o.href="#",o.classList.add("breadcrumb-link"),o.textContent=`${i}${t===w.length-1?"":" >"}`,o.addEventListener("click",(()=>{r(e)})),x?x.appendChild(o):v("Cannot find stepsIndicator container")}}));const R=5,N=$("#team-member").find(".add-more-field");function p(){$(".linkedin-field-wrapper").find("input:visible").length===R?N.hide():N.show()}function m(e){e.on("click",(e=>{const t=$(e.target).parents(".linkedin-field");t.hide(),c(t[0]),f(b);const n=$(".linkedin-field-wrapper").find("input:visible").length;D.removeField(`#co-founder-${n+1}`),p()}))}const U=()=>{$("input[type='radio'][name='Program-Type']").on("input",(()=>{const e=$("input[type='radio'][name='Program-Type']:checked").val();u("#segment-ai"),u("#segment-industry"),u("#program-others"),"AI"===e?$("#segment-ai").show():"Industry 5.0"===e?$("#segment-industry").show():$("#program-others").show()})),$("input[type='radio'][name='Segment-Industry']").on("input",(()=>{"Other"===$("input[type='radio'][name='Segment-Industry']:checked").val()?$("#industry-other").show():u("#industry-other")})),$("input[type='radio'][name='Current-Team']").on("input",(()=>{if("Have co-founder"===$("input[type='radio'][name='Current-Team']:checked").val())$("#team-member").show(),D.addField("#co-founder-1",[{rule:"required"},{validator:L,errorMessage:q}]),N&&N.on("click",(()=>{if($(".linkedin-field-wrapper").find("input:visible").length<R){const e=$(".linkedin-field-wrapper"),t=e.children("div:visible:last").next();t.css("display","flex"),D.addField(`#co-founder-${e.find("input:visible").length}`,[{validator:L,errorMessage:q}],{errorsContainer:t});m(t.find(".remove-field")),p()}}));else{u("#team-member"),D.removeField("#co-founder-1");const e=$("#team-member").find(".add-more-field");e&&e.off("click")}})),$("input[type='radio'][name='Program-Type']").on("input",(()=>{const e=$("input[type='radio'][name='Program-Type']:checked").val();u("#ai-experience"),u("#industry-experience"),"AI"===e?$("#ai-experience").show():"Industry 5.0"===e&&$("#industry-experience").show()})),$("input[type='radio'][name='Funded']").on("input",(()=>{const e=$("input[type='radio'][name='Funded']:checked").val();u("#show-funded"),"Yes"===e&&$("#show-funded").show()})),$("input[type='radio'][name='Program-Type']").on("input",(()=>{const e=$("input[type='radio'][name='Program-Type']:checked").val();u("#ai-flow"),u("#technology"),"Industry 5.0"===e?$("#technology").css("display","grid"):$("#ai-flow").css("display","grid")})),$("input[type='radio'][name='Previous-Batch']").on("input",(()=>{const e=$("input[type='radio'][name='Previous-Batch']:checked").val();u("#applied-batch"),"Yes"===e&&$("#applied-batch").show()})),$("input[type='radio'][name='Previously-Applied']").on("input",(()=>{const e=$("input[type='radio'][name='Previously-Applied']:checked").val();u("#elaborate-field"),e&&$("#elaborate-field").show()})),$("#learnt-others").on("input",(()=>{const e=$("#learnt-others").is(":checked");u("#heard-others"),e&&$("#heard-others").show()}))};function f(e){const t=function(e){const t=Array.from(e.querySelectorAll("input, textarea, select")),n={};return t.forEach((e=>{const{name:t,value:r,type:i,disabled:o}=e;if(t&&!o&&"file"!==i)if("checkbox"===i){const r=e;n[t]=r.checked}else if("radio"===i){const r=e;r.checked?n[t]=r.value:n.hasOwnProperty(t)||(n[t]="")}else n[t]=r})),n}(e),n=JSON.stringify(t);localStorage.setItem("formState",n)}function h(e){const t=localStorage.getItem("formState");t&&function(e,t){const n=JSON.parse(e);Object.entries(n).forEach((([e,n])=>{const r=t.querySelectorAll(`input[name="${e}"], textarea[name="${e}"]`);if(0===r.length)return;const i=r[0].type;if("file"!==i)if("checkbox"===i){const e=r[0];e.checked=n,n&&($(e).siblings().addClass("w--redirected-checked"),e.dispatchEvent(new Event("input")))}else if("radio"===i)r.forEach((e=>{const t=e;t.value===n&&(t.checked=!0,t.dispatchEvent(new Event("input")),$(t).siblings().addClass("w--redirected-checked"))}));else{const e=r[0];e.value=n,n&&e.name.includes("Co---Founder-Linkedin")&&($(e).parent().css("display","flex"),D.addField(e,[{validator:L,errorMessage:q}],{errorsContainer:$(e).parent()[0]}),m($(e).parent().find(".remove-field")),p()),e.dispatchEvent(new Event("input")),"textarea"===i&&g(e)}}))}(t,e)}function y(e){const{target:t}=e,{form:n}=t;f(n),"textarea"===t.type&&g(t)}function g(e){const t=$(e).siblings(".word-limit");t&&t.text(`Word Limit: ${e.value?e.value.split(/[\s]+/).length:0}/100`)}(e=>{U(),function(){const e=localStorage.getItem("formStep")||1;r(parseInt(e,10))}(),h(e),o(n()),l(n());Array.from(e.querySelectorAll("input, textarea, select")).forEach((e=>{const{type:t}=e;"submit"!==t&&e.addEventListener("input",y)}))})(b),$(b).on("submit",(e=>{e.preventDefault();const{fields:n,groupFields:i}=D,o=[];if(Object.values(n).forEach((e=>{e.isValid||o.push(e)})),Object.values(i).forEach((e=>{e.isValid||o.push(e)})),o&&o[0]){const e=$(o[0].elem).parents(".form-step");if(e.length&&e[0]){const t=e[0].getAttribute("data-step");t&&r(parseInt(t,10))}}return D.isValid&&(localStorage.removeItem("formState"),localStorage.removeItem("formStep"),t(),setTimeout((()=>{c(b)}),2e3)),D.isValid})),$(document).on("keydown",":input:not(textarea)",(function(e){"Enter"===e.key&&e.preventDefault()}))}}));